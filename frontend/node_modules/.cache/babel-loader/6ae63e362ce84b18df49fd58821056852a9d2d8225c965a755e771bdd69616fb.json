{"ast":null,"code":"var _jsxFileName = \"/Users/sanji/AA/Seed Account/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport AccountManager from './components/AccountManager';\nimport CertificationManager from './components/CertificationManager';\nimport ShadowAccountManager from './components/ShadowAccountManager';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [seedAddress, setSeedAddress] = useState('');\n  const [soulAddress, setSoulAddress] = useState('');\n  const [shadowAddress, setShadowAddress] = useState('');\n  const [isCertified, setIsCertified] = useState(false);\n  const [certificationDetails, setCertificationDetails] = useState(null);\n  const [isLinked, setIsLinked] = useState(false);\n\n  // 初始化时从本地存储加载数据\n  useEffect(() => {\n    // 加载账户地址\n    const storedSeed = localStorage.getItem('seedWallet');\n    if (storedSeed) {\n      const seedData = JSON.parse(storedSeed);\n      setSeedAddress(seedData.address);\n    }\n    const storedSoul = localStorage.getItem('soulWallet');\n    if (storedSoul) {\n      const soulData = JSON.parse(storedSoul);\n      setSoulAddress(soulData.address);\n    }\n    const storedShadow = localStorage.getItem('shadowWallet');\n    if (storedShadow) {\n      const shadowData = JSON.parse(storedShadow);\n      setShadowAddress(shadowData.address);\n    }\n\n    // 加载认证状态\n    const storedCertification = localStorage.getItem('certificationDetails');\n    if (storedCertification) {\n      const certData = JSON.parse(storedCertification);\n      setCertificationDetails(certData);\n      setIsCertified(true);\n    }\n\n    // 加载关联状态\n    const storedShadowSignature = localStorage.getItem('shadowSignatureDetails');\n    if (storedShadowSignature) {\n      setIsLinked(true);\n    }\n  }, []);\n\n  // 处理账户更新\n  const handleAccountsUpdated = (seed, soul) => {\n    setSeedAddress(seed);\n    setSoulAddress(soul);\n  };\n\n  // 处理认证状态更新\n  const handleCertificationUpdated = (certified, details) => {\n    setIsCertified(certified);\n    setCertificationDetails(details);\n  };\n\n  // 处理影子账户更新\n  const handleShadowAccountUpdated = (shadow, linked) => {\n    setShadowAddress(shadow);\n    setIsLinked(linked);\n  };\n\n  // 重置所有数据\n  const resetAllData = () => {\n    // 清除本地存储\n    localStorage.removeItem('seedWallet');\n    localStorage.removeItem('soulWallet');\n    localStorage.removeItem('shadowWallet');\n    localStorage.removeItem('certificationDetails');\n    localStorage.removeItem('shadowSignatureDetails');\n\n    // 重置状态\n    setSeedAddress('');\n    setSoulAddress('');\n    setShadowAddress('');\n    setIsCertified(false);\n    setCertificationDetails(null);\n    setIsLinked(false);\n    alert('所有数据已重置');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u6839\\u8D26\\u6237\\u8BA4\\u8BC1\\u4E0E\\u5F71\\u5B50\\u8D26\\u6237\\u5173\\u8054\\u7CFB\\u7EDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetAllData,\n        className: \"reset-button\",\n        children: \"\\u91CD\\u7F6E\\u6240\\u6709\\u6570\\u636E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"App-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u7B2C\\u4E00\\u6B65\\uFF1A\\u521B\\u5EFA\\u8D26\\u6237\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AccountManager, {\n          onAccountsUpdated: handleAccountsUpdated,\n          seedAddress: seedAddress,\n          soulAddress: soulAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u7B2C\\u4E8C\\u6B65\\uFF1A\\u6839\\u8D26\\u6237\\u8BA4\\u8BC1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CertificationManager, {\n          seedAddress: seedAddress,\n          soulAddress: soulAddress,\n          isCertified: isCertified,\n          onCertificationUpdated: handleCertificationUpdated\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u7B2C\\u4E09\\u6B65\\uFF1A\\u5F71\\u5B50\\u8D26\\u6237\\u5173\\u8054\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ShadowAccountManager, {\n          seedAddress: seedAddress,\n          soulAddress: soulAddress,\n          shadowAddress: shadowAddress,\n          certificationDetails: certificationDetails,\n          isCertified: isCertified,\n          isLinked: isLinked,\n          onShadowAccountUpdated: handleShadowAccountUpdated\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"App-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\xA9 2023 \\u6839\\u8D26\\u6237\\u8BA4\\u8BC1\\u7CFB\\u7EDF | \\u57FA\\u4E8E\\u73AF\\u7B7E\\u540D\\u6280\\u672F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"SslIraDknOqDcja1uENfCyCPKGI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","AccountManager","CertificationManager","ShadowAccountManager","jsxDEV","_jsxDEV","App","_s","seedAddress","setSeedAddress","soulAddress","setSoulAddress","shadowAddress","setShadowAddress","isCertified","setIsCertified","certificationDetails","setCertificationDetails","isLinked","setIsLinked","storedSeed","localStorage","getItem","seedData","JSON","parse","address","storedSoul","soulData","storedShadow","shadowData","storedCertification","certData","storedShadowSignature","handleAccountsUpdated","seed","soul","handleCertificationUpdated","certified","details","handleShadowAccountUpdated","shadow","linked","resetAllData","removeItem","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onAccountsUpdated","onCertificationUpdated","onShadowAccountUpdated","_c","$RefreshReg$"],"sources":["/Users/sanji/AA/Seed Account/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport AccountManager from './components/AccountManager';\nimport CertificationManager from './components/CertificationManager';\nimport ShadowAccountManager from './components/ShadowAccountManager';\n\nfunction App() {\n  const [seedAddress, setSeedAddress] = useState('');\n  const [soulAddress, setSoulAddress] = useState('');\n  const [shadowAddress, setShadowAddress] = useState('');\n  const [isCertified, setIsCertified] = useState(false);\n  const [certificationDetails, setCertificationDetails] = useState(null);\n  const [isLinked, setIsLinked] = useState(false);\n  \n  // 初始化时从本地存储加载数据\n  useEffect(() => {\n    // 加载账户地址\n    const storedSeed = localStorage.getItem('seedWallet');\n    if (storedSeed) {\n      const seedData = JSON.parse(storedSeed);\n      setSeedAddress(seedData.address);\n    }\n    \n    const storedSoul = localStorage.getItem('soulWallet');\n    if (storedSoul) {\n      const soulData = JSON.parse(storedSoul);\n      setSoulAddress(soulData.address);\n    }\n    \n    const storedShadow = localStorage.getItem('shadowWallet');\n    if (storedShadow) {\n      const shadowData = JSON.parse(storedShadow);\n      setShadowAddress(shadowData.address);\n    }\n    \n    // 加载认证状态\n    const storedCertification = localStorage.getItem('certificationDetails');\n    if (storedCertification) {\n      const certData = JSON.parse(storedCertification);\n      setCertificationDetails(certData);\n      setIsCertified(true);\n    }\n    \n    // 加载关联状态\n    const storedShadowSignature = localStorage.getItem('shadowSignatureDetails');\n    if (storedShadowSignature) {\n      setIsLinked(true);\n    }\n  }, []);\n  \n  // 处理账户更新\n  const handleAccountsUpdated = (seed, soul) => {\n    setSeedAddress(seed);\n    setSoulAddress(soul);\n  };\n  \n  // 处理认证状态更新\n  const handleCertificationUpdated = (certified, details) => {\n    setIsCertified(certified);\n    setCertificationDetails(details);\n  };\n  \n  // 处理影子账户更新\n  const handleShadowAccountUpdated = (shadow, linked) => {\n    setShadowAddress(shadow);\n    setIsLinked(linked);\n  };\n  \n  // 重置所有数据\n  const resetAllData = () => {\n    // 清除本地存储\n    localStorage.removeItem('seedWallet');\n    localStorage.removeItem('soulWallet');\n    localStorage.removeItem('shadowWallet');\n    localStorage.removeItem('certificationDetails');\n    localStorage.removeItem('shadowSignatureDetails');\n    \n    // 重置状态\n    setSeedAddress('');\n    setSoulAddress('');\n    setShadowAddress('');\n    setIsCertified(false);\n    setCertificationDetails(null);\n    setIsLinked(false);\n    \n    alert('所有数据已重置');\n  };\n  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>根账户认证与影子账户关联系统</h1>\n        <button onClick={resetAllData} className=\"reset-button\">重置所有数据</button>\n      </header>\n      \n      <main className=\"App-main\">\n        <section className=\"section\">\n          <h2>第一步：创建账户</h2>\n          <AccountManager \n            onAccountsUpdated={handleAccountsUpdated}\n            seedAddress={seedAddress}\n            soulAddress={soulAddress}\n          />\n        </section>\n        \n        <section className=\"section\">\n          <h2>第二步：根账户认证</h2>\n          <CertificationManager \n            seedAddress={seedAddress}\n            soulAddress={soulAddress}\n            isCertified={isCertified}\n            onCertificationUpdated={handleCertificationUpdated}\n          />\n        </section>\n        \n        <section className=\"section\">\n          <h2>第三步：影子账户关联</h2>\n          <ShadowAccountManager \n            seedAddress={seedAddress}\n            soulAddress={soulAddress}\n            shadowAddress={shadowAddress}\n            certificationDetails={certificationDetails}\n            isCertified={isCertified}\n            isLinked={isLinked}\n            onShadowAccountUpdated={handleShadowAccountUpdated}\n          />\n        </section>\n      </main>\n      \n      <footer className=\"App-footer\">\n        <p>© 2023 根账户认证系统 | 基于环签名技术</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}